< !DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/png" href="Images/NEG.png"><title>AESS - Advanced Systems</title><script type="importmap"> {
  "imports": {
    "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
  }
}

</script><style>@import url("https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap");

/* =========================================
           1. INTRO & TRANSITION STYLES
           ========================================= */

/* Container for the 3D Scene (Black Background) */
#intro-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #000;
  z-index: 9999;
  /* Highest priority */
  transition: opacity 1.5s ease-out, visibility 1.5s;
}

#intro-overlay.fade-out {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

/* The "ENTER" Glass Button */
#introButton {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(15px);
  box-shadow: 0 8px 10px rgba(0, 0, 0, 0.2);
  position: absolute;
  top: 60%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10000;
  /* Above the overlay */
  color: white;
  font-size: 24px;
  padding: 15px 40px;
  border-radius: 50px;
  cursor: pointer;
  font-family: 'Orbitron', sans-serif;
  text-transform: uppercase;
  letter-spacing: 4px;
  transition: all 0.5s ease;
  opacity: 0;
  pointer-events: none;
}

#introButton:hover {
  background: rgba(255, 255, 255, 0.25);
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
}

#introButton.show-btn {
  opacity: 1;
  pointer-events: auto;
}

#introButton.hide-btn {
  opacity: 0;
  transform: translate(-50%, -20px);
  pointer-events: none;
}

/* NEW: BORDER TRANSITION EFFECT */
#transition-border {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9998;
  /* Just below the black overlay, above website */
  pointer-events: none;
  opacity: 0;
  transform: scale(0.8);
  border-radius: 25px;
  box-shadow: inset 0 0 0 0px rgba(0, 234, 255, 0);
}

#transition-border.activate-border {
  animation: expandBorder 1.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
}

@keyframes expandBorder {
  0% {
    opacity: 0;
    transform: scale(0.5);
    box-shadow: inset 0 0 50px 10px rgba(0, 234, 255, 0.8),
      0 0 50px rgba(0, 234, 255, 0.5);
    border: 2px solid rgba(255, 255, 255, 0.8);
  }

  10% {
    opacity: 1;
  }

  60% {
    transform: scale(1);
    box-shadow: inset 0 0 20px 2px rgba(0, 234, 255, 0.5),
      0 0 30px rgba(0, 234, 255, 0.3);
    border: 5px solid rgba(255, 255, 255, 0.9);
  }

  100% {
    transform: scale(1);
    opacity: 0;
    box-shadow: inset 0 0 0 0 rgba(0, 234, 255, 0);
    border: 0px solid rgba(255, 255, 255, 0);
  }
}

/* =========================================
           2. MAIN PAGE STYLES
           ========================================= */
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Orbitron', Courier, monospace;
  background-color: black;
  overflow: hidden;
  /* Locked during intro */
}

body.scroll-active {
  overflow-y: auto;
  overflow-x: hidden;
}

/* NEW: GRID CANVAS STYLES */
#gridCanvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  /* Below video background/content wrapper */
  pointer-events: none;
  opacity: 0.8;
  /* Adjust for intensity */
}


/* Header & Nav */
header {
  width: 100%;
  max-height: 150px;
  position: relative;
  z-index: 1;
}

header nav {
  background: rgba(0, 0, 97, 0.3);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 100px;
  padding: 1.5rem 0.8rem;
  box-shadow: 0 8px 32px 0 rgba(0, 0, 97, 0.37);
  max-width: 100%;
  margin: 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-height: 100px;
}

.logo {
  max-height: 80px;
  padding-left: 2rem;
}

header ul {
  display: flex;
  list-style: none;
  align-items: center;
}

header ul a {
  text-decoration: none;
  color: white;
  padding: 0 1.5rem;
  text-transform: uppercase;
}

.small_bar {
  padding-left: 1.5rem;
}

.small_bar a {
  padding: 0;
  width: 37px;
  height: 37px;
  display: flex;
  border-radius: 50%;
  background-color: rgb(3, 0, 155);
  backdrop-filter: blur(15px);
  justify-content: center;
  align-items: center;
}

.small_bar .bar {
  position: relative;
  width: 52%;
  height: 1.3px;
  background-color: white;
  border-radius: 2rem;
}

.small_bar .bar::before,
.small_bar .bar::after {
  content: "";
  left: 50%;
  position: absolute;
  transform: translateX(-50%);
  width: 50%;
  height: 100%;
  background-color: inherit;
}

.small_bar .bar::before {
  top: -4.5px;
}

.small_bar .bar::after {
  top: 4.5px;
}

/* Video Background */
.video-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;
}

.video-background video {
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  object-fit: cover;
}

.video-background::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4);
}

/* Hero Section */
.hero-section {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: calc(100vh - 150px);
  text-align: center;
  padding: 2rem;
  opacity: 0;
  transform: translateY(30px);
  /* Delayed animation: waits for border transition to finish */
  animation: fadeInUp 1s ease-out 0.8s forwards;
  animation-play-state: paused;
}

body.intro-complete .hero-section {
  animation-play-state: running;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero-title {
  color: white;
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 2rem;
  text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
  line-height: 1.4;
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.8));
}

.hero-title .aess-text {
  display: inline-block;
  color: transparent;
  -webkit-text-stroke: 2px white;
  animation: fillText 5s ease-in-out 1s forwards;
}

@keyframes fillText {
  0% {
    color: transparent;
  }

  100% {
    color: white;
  }
}

.explore-btn {
  padding: 1rem 2.5rem;
  font-size: 1.1rem;
  font-family: 'Orbitron', Courier, monospace;
  font-weight: 600;
  text-transform: uppercase;
  color: white;
  background-color: rgb(0, 0, 97);
  border: 2px solid white;
  border-radius: 50px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-decoration: none;
  display: inline-block;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.6);
}

.explore-btn:hover {
  background-color: rgb(3, 0, 155);
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.5), 0 10px 25px rgba(0, 0, 0, 0.8);
}

/* About Section */
.about-section {
  position: relative;
  z-index: 1;
  background: linear-gradient(180deg, rgba(0, 0, 97, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%);
  padding: 0;
  min-height: 400vh;
  display: block;
}

.about-scroll-container {
  position: sticky;
  top: 0;
  height: 100vh;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.aess-letters {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  z-index: 1;
}

.aess-letter {
  font-size: 15rem;
  font-weight: 900;
  color: white;
  text-transform: uppercase;
  opacity: 0;
  transform: translateX(-100vw);
  transition: none;
  text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
  -webkit-text-stroke: 2px white;
}

.aess-letter.visible {
  opacity: 1;
}

.about-content-wrapper {
  position: absolute;
  width: 100%;
  max-width: 1400px;
  padding: 0 2rem;
  opacity: 0;
  transform: scale(0.8) translateX(-100px);
  transition: opacity 1s ease 0.5s, transform 1s ease 0.5s;
  pointer-events: none;
  z-index: 2;
}

.about-content-wrapper.visible {
  opacity: 1;
  transform: scale(1) translateX(0);
  pointer-events: auto;
}

.about-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
  margin-top: 2rem;
}

.stat-item {
  text-align: center;
}

.stat-number {
  color: white;
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
}

.stat-label {
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.aess-letters.move-right {
  justify-content: flex-end;
  padding-right: 5%;
  transition: all 1s ease;
}

.aess-letters.move-right .aess-letter {
  font-size: 7.5rem;
  transition: font-size 1s ease, transform 1s ease;
}

.aess-circle {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
  border-radius: 50%;
  transition: all 1s ease;
  z-index: 0;
  pointer-events: none;
}

.aess-circle.visible {
  width: 1000px;
  height: 1000px;
  border: 3px solid rgba(0, 100, 255, 0.8);
  box-shadow: 0 0 40px rgba(0, 100, 255, 0.6), inset 0 0 40px rgba(0, 100, 255, 0.2);
  animation: shockwave 0.6s ease-out, rotatingGlow 4s linear infinite 0.6s;
}

@keyframes rotatingGlow {

  0%,
  50%,
  100% {
    box-shadow: 0 0 40px rgba(0, 100, 255, 0.6);
  }

  25%,
  75% {
    box-shadow: 0 0 150px rgba(0, 100, 255, 0.6);
  }
}

/* What's AESS Cards */
.whats-aess-container {
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem;
}

.whats-aess-main-card {
  background: rgba(0, 0, 97, 0.6);
  backdrop-filter: blur(15px);
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 15px;
  padding: 2.5rem;
  margin-bottom: 3rem;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
  transition: all 0.3s ease;
}

.whats-aess-main-title {
  color: white;
  font-size: 2.5rem;
  font-weight: 700;
  text-transform: uppercase;
  margin-bottom: 1.5rem;
  text-align: center;
}

.whats-aess-main-text {
  color: rgba(255, 255, 255, 0.9);
  font-size: 1.1rem;
  line-height: 1.8;
  margin-bottom: 1.2rem;
  text-align: justify;
}

.whats-aess-bottom-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2rem;
  margin-top: 2rem;
}

.whats-aess-card {
  position: relative;
  padding: 25px;
  border-radius: 14px;
  background: #0f0f0fac;
  color: white;
  overflow: hidden;
}

.whats-aess-card::before,
.whats-aess-card::after {
  content: "";
  position: absolute;
  inset: 0;
  padding: 3px;
  border-radius: inherit;
  background: linear-gradient(90deg, transparent 0%, transparent 10%, #00eaff 25%, transparent 40%, transparent 100%);
  background-size: 200% 100%;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

.whats-aess-card::before {
  animation: wormMove 3s linear infinite;
}

.whats-aess-card::after {
  animation: wormMoveReverse 3s linear infinite;
  opacity: 0.9;
}

@keyframes wormMove {
  0% {
    background-position: 0% 0%;
  }

  100% {
    background-position: 200% 0%;
  }
}

@keyframes wormMoveReverse {
  0% {
    background-position: 200% 0%;
  }

  100% {
    background-position: 0% 0%;
  }
}



.whats-aess-card-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 1rem;
  text-align: center;
  text-transform: uppercase;
}

.whats-aess-card-text {
  font-size: 0.95rem;
  line-height: 1.7;
  text-align: justify;
  color: rgba(255, 255, 255, 0.85);
}

/* Media Section */
.media-section {
  position: relative;
  z-index: 1;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 97, 0.8) 100%);
  padding: 4rem 2rem;
  min-height: 100vh;
}

.media-container {
  max-width: 1400px;
  margin: 0 auto;
}

.media-header {
  margin-bottom: 3rem;
}

.media-header h2 {
  color: white;
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  text-transform: uppercase;
}

.media-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 2rem;
}

.media-card {
  background: rgba(0, 0, 97, 0.4);
  border-radius: 12px;
  overflow: hidden;
  transition: all 0.3s ease;
  cursor: pointer;
  backdrop-filter: blur(10px);
  position: relative;
  border: 2px solid transparent;
  background-clip: padding-box;
}

.media-card::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 12px;
  padding: 2px;
  background: linear-gradient(90deg, #ff0080, #ff8c00, #40e0d0, #ff0080);
  background-size: 300% 100%;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  animation: borderMove 3s linear infinite;
}

@keyframes borderMove {
  0% {
    background-position: 0% 50%;
  }

  100% {
    background-position: 300% 50%;
  }
}

.media-card-image {
  width: 100%;
  height: 220px;
  object-fit: cover;
}

.media-card-content {
  padding: 1.5rem;
  color: white;
}

.media-card-title {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 0.8rem;
}

.media-card-date {
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.85rem;
  margin-bottom: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Section Nav */
.section-nav {
  position: fixed;
  right: 2rem;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  background: rgba(0, 0, 97, 0.3);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 20px;
  padding: 1.5rem 0.8rem;
}

.section-nav-item {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  cursor: pointer;
  position: relative;
}

.section-nav-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.4);
  border: 2px solid white;
  transition: all 0.3s ease;
}

.section-nav-item.active .section-nav-dot {
  background-color: white;
  transform: scale(1.3);
}

.section-nav-label {
  opacity: 0;
  visibility: hidden;
  background-color: rgba(0, 0, 97, 0.9);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  font-size: 0.85rem;
  margin-right: 1.5rem;
  position: absolute;
  right: 100%;
}

.section-nav-item:hover .section-nav-label {
  opacity: 1;
  visibility: visible;
}

/* Researchers */
.researchers-section {
  position: relative;
  z-index: 1;
  background: linear-gradient(180deg, rgba(0, 0, 97, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%);
  padding: 6rem 2rem;
  min-height: 100vh;
}

.researchers-header {
  text-align: center;
  margin-bottom: 4rem;
  color: white;
}

.researchers-columns {
  display: flex;
  justify-content: center;
  gap: 10px;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding: 2rem 0;
}

.researcher-column {
  width: 20px;
  min-width: 50px;
  height: 600px;
  background: linear-gradient(180deg, rgba(0, 0, 97, 0.6), rgba(3, 0, 155, 0.8));
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.researcher-column-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-90deg);
  color: white;
  white-space: nowrap;
  text-transform: uppercase;
}

.researcher-column.active {
  width: 300px;
  min-width: 200px;
}

.researcher-card {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  backdrop-filter: blur(15px);
  opacity: 0;
  visibility: hidden;
  transition: all 0.4s ease;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 1.5rem;
}

.researcher-column.active .researcher-card {
  opacity: 1;
  visibility: visible;
}

.researcher-card-image {
  width: 100%;
  height: 140px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 1rem;
  border: 2px solid rgba(255, 255, 255, 0.3);
}

.researcher-card-title {
  color: white;
  font-size: 1rem;
  margin-bottom: 0.6rem;
  text-align: center;
}

.researcher-card-name {
  color: rgba(255, 255, 255, 0.9);
  font-size: 0.9rem;
  text-align: center;
}

.researcher-card-close {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  width: 25px;
  height: 25px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: white;
}

/* Floating Btn */
.floating-research-btn {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  z-index: 999;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 97, 0.3);
  backdrop-filter: blur(5px);
  border-radius: 50%;
  color: white;
}

/* NEW ELECTRONICS SECTION */
/* NEW ELECTRONICS SECTION */
.electronics-section {
  position: relative;
  height: 200vh;
  background: black;
}

.electronics-video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  object-fit: cover;
  opacity: 0;
  transition: opacity 1.2s ease;
  z-index: 1;
  pointer-events: none;
}

.electronics-content {
  position: relative;
  z-index: 10;
  height: 200vh;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 20vh 6vw;
}

.glass-box {
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 2.8rem 4rem;
  border-radius: 20px;
  font-size: 3rem;
  color: white;
  font-weight: 800;
  text-transform: uppercase;
  width: fit-content;
  opacity: 0;
  transform: translateY(100px);
  transition: transform 0.6s ease-out, opacity 0.6s ease-out, visibility 0.6s ease-out;
  visibility: hidden;
}

.glass-box.fixed {
  position: fixed;
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.glass-box.hidden {
  opacity: 0 !important;
  visibility: hidden !important;
}

#elecTitle.fixed {
  top: 10vh;
  left: 6vw;
}

#elecJoin.fixed {
  top: 40vh;
  right: 6vw;
}

#elecTitle.fixed {
  position: fixed;
  top: 10vh;
  left: 6vw;
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

#elecTitle:not(.fixed) {
  visibility: hidden;
}

#elecJoin.fixed {
  position: fixed;
  top: 40vh;
  right: 6vw;
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

#elecJoin:not(.fixed) {
  visibility: hidden;
}


/* Aviation Section - Electronics Style */
/* Aviation Section - Electronics Style */
.aviation-section {
  position: relative;
  height: 200vh;
  background: black;
}

.aviation-video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  object-fit: cover;
  opacity: 0;
  transition: opacity 1.2s ease;
  z-index: 1;
  pointer-events: none;
}

.aviation-content {
  position: relative;
  z-index: 10;
  height: 200vh;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 20vh 6vw;
}

.aviation-title,
.aviation-join {
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 2.8rem 4rem;
  border-radius: 20px;
  font-size: 3rem;
  color: white;
  font-weight: 800;
  text-transform: uppercase;
  width: fit-content;
  opacity: 0;
  transform: translateY(100px);
  transition: transform 0.6s ease-out, opacity 0.6s ease-out, visibility 0.6s ease-out;
  visibility: hidden;
}

.aviation-title.fixed,
.aviation-join.fixed {
  position: fixed;
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.aviation-title.hidden,
.aviation-join.hidden {
  opacity: 0 !important;
  visibility: hidden !important;
}

.aviation-title.fixed {
  top: 10vh;
  left: 6vw;
}

.aviation-join.fixed {
  top: 40vh;
  right: 6vw;
}

/* Aerospace Section - Electronics Style */
.aerospace-section {
  position: relative;
  height: 200vh;
  background: black;
}

/* Aerospace Section - Electronics Style */
.aerospace-section {
  position: relative;
  height: 200vh;
  background: black;
}

.aerospace-video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  object-fit: cover;
  opacity: 0;
  transition: opacity 1.2s ease;
  z-index: 1;
  pointer-events: none;
}

.aerospace-content {
  position: relative;
  z-index: 10;
  height: 200vh;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 20vh 6vw;
}

.aerospace-title,
.aerospace-join {
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 2.8rem 4rem;
  border-radius: 20px;
  font-size: 3rem;
  color: white;
  font-weight: 800;
  text-transform: uppercase;
  width: fit-content;
  opacity: 0;
  transform: translateY(100px);
  transition: transform 0.6s ease-out, opacity 0.6s ease-out, visibility 0.6s ease-out;
  visibility: hidden;
}

.aerospace-title.fixed,
.aerospace-join.fixed {
  position: fixed;
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.aerospace-title.hidden,
.aerospace-join.hidden {
  opacity: 0 !important;
  visibility: hidden !important;
}

.aerospace-title.fixed {
  top: 10vh;
  left: 6vw;
}

.aerospace-title:not(.fixed) {
  visibility: hidden;
}

.aerospace-join.fixed {
  position: fixed;
  top: 40vh;
  right: 6vw;
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.aerospace-join:not(.fixed) {
  visibility: hidden;
}

.aerospace-join {
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 2.8rem 4rem;
  border-radius: 20px;
  font-size: 3rem;
  color: white;
  font-weight: 800;
  text-transform: uppercase;
  width: fit-content;
  opacity: 0;
  transform: translateY(100px);
  transition: transform 0.6s ease-out, opacity 0.6s ease-out;
}

.aerospace-join.fixed {
  position: fixed;
  top: 40vh;
  right: 6vw;
  transform: translateY(0);
  opacity: 1;
}


/* Explore More Box */
.explore-box {
  position: absolute;
  bottom: 8rem;
  left: 3rem;
  width: 320px;
  padding: 2rem;
  background: rgba(0, 0, 97, 0.3);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-radius: 15px;
  color: white;
  z-index: 10;
  overflow: hidden;
}

.explore-box::before,
.explore-box::after {
  content: "";
  position: absolute;
  inset: 0;
  padding: 3px;
  border-radius: inherit;
  background: linear-gradient(90deg, transparent 0%, transparent 10%, #00eaff 25%, transparent 40%, transparent 100%);
  background-size: 200% 100%;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

.explore-box::before {
  animation: wormMove 3s linear infinite;
}

.explore-box::after {
  animation: wormMoveReverse 3s linear infinite;
  opacity: 0.9;
}

.explore-box-title {
  font-size: 1.8rem;
  font-weight: 700;
  margin-bottom: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.explore-box-details {
  font-size: 0.95rem;
  line-height: 1.6;
  margin-bottom: 1.5rem;
  color: rgba(255, 255, 255, 0.85);
}

.explore-box-btn {
  display: inline-block;
  padding: 0.8rem 2rem;
  background: rgba(0, 0, 97, 0.8);
  border: 2px solid white;
  border-radius: 50px;
  color: white;
  text-decoration: none;
  font-weight: 600;
  text-transform: uppercase;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

.explore-box-btn:hover {
  background: rgb(3, 0, 155);
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(0, 234, 255, 0.5);
}

/* Card Stack Carousel */
.latest-events-carousel {
  width: 100%;
  height: 160px;
  position: relative;
  margin-top: 1.5rem;
}

.card-stack {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mini-event-card {
  position: absolute;
  width: 200px;
  height: 150px;
  background: rgba(0, 0, 97, 0.7);
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  animation: fadeInOut 9s ease-in-out infinite;
  animation-delay: calc(var(--i) * 3s);
  opacity: 0;
}

@keyframes fadeInOut {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }

  10% {
    opacity: 1;
    transform: scale(1);
  }

  30% {
    opacity: 1;
    transform: scale(1);
  }

  40% {
    opacity: 0;
    transform: scale(0.8);
  }

  100% {
    opacity: 0;
    transform: scale(0.8);
  }
}

.mini-event-card:hover {
  box-shadow: 0 10px 30px rgba(0, 234, 255, 0.5);
  border-color: rgba(0, 234, 255, 0.8);
  transform: scale(1.05) !important;
}

.card-stack:hover .mini-event-card {
  animation-play-state: paused;
}

.mini-event-image {
  width: 100%;
  height: 100px;
  object-fit: cover;
  display: block;
}

.mini-event-info {
  padding: 0.6rem;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(5px);
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mini-event-title {
  color: white;
  font-size: 0.75rem;
  font-weight: 600;
  line-height: 1.3;
  margin: 0;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Responsive adjustment */
@media (max-width: 968px) {
  .explore-box {
    left: 2rem;
    width: 280px;
    bottom: 6rem;
  }

  .latest-events-carousel {
    height: 140px;
  }

  .mini-event-card {
    width: 180px;
    height: 130px;
  }

  .mini-event-image {
    height: 80px;
  }
}






/* NEW: CURVED CAROUSEL STYLES */
.curved-carousel-wrapper {
  position: relative;
  width: 100%;
  height: 450px;
  /* Adjust height to accommodate the curve */
  display: flex;
  justify-content: center;
  align-items: flex-start;
  /* Start from the top of the container */
  perspective: 1200px;
  /* Set a perspective for 3D effect */
  margin-top: 3rem;
}

.curved-carousel {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transform: rotateY(0deg);
  /* Initial rotation, controlled by JS */
  transition: transform 0.8s ease-out;
  /* Smooth rotation transition */
}

.carousel-card {
  position: absolute;
  width: 200px;
  height: 250px;
  /* Make cards taller for better curve visibility */
  top: 0;
  left: 50%;
  margin-left: -160px;
  /* Center the card */
  transition: all 0.5s ease;
  /* Base Transform for the Curve - will be overwritten by JS */
  transform-origin: 50% 100%;
}

.carousel-card .media-card-image {
  height: 50px;
  /* Adjusted image height */
}

/* Media Query for smaller screens */
@media (max-width: 768px) {
  .curved-carousel-wrapper {
    height: 350px;
  }

  .carousel-card {
    width: 90%;
    margin-left: -45%;
    height: 300px;
  }
}


/* Carousel Navigation Arrows */
.carousel-nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 50px;
  height: 50px;
  background: rgba(0, 0, 97, 0.6);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  transition: all 0.3s ease;
  font-size: 1.5rem;
  user-select: none;
}

.carousel-nav-btn:hover {
  background: rgba(0, 0, 97, 0.9);
  border-color: rgba(0, 234, 255, 0.8);
  box-shadow: 0 0 20px rgba(0, 234, 255, 0.5);
  transform: translateY(-50%) scale(1.1);
}

.carousel-nav-btn:active {
  transform: translateY(-50%) scale(0.95);
}

.carousel-nav-left {
  left: 2rem;
}

.carousel-nav-right {
  right: 2rem;
}

@media (max-width: 768px) {
  .carousel-nav-btn {
    width: 40px;
    height: 40px;
    font-size: 1.2rem;
  }

  .carousel-nav-left {
    left: 1rem;
  }

  .carousel-nav-right {
    right: 1rem;
  }
}


/* Animation for collecting cards */
.researchers-columns {
  position: relative;
}

.researchers-columns .researcher-column {
  opacity: 0;
  transform: translate(calc(var(--random-x, 0) * 1px),
      calc(var(--random-y, 0) * 1px)) rotate(calc(var(--random-rotate, 0) * 1deg)) scale(0.3);
  transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* When section is in view - collect animation */
.researchers-columns.animate-entry .researcher-column {
  opacity: 1;
  transform: translate(0, 0) rotate(0deg) scale(1);
}

/* Stagger the animation for each card */
.researchers-columns.animate-entry .researcher-column:nth-child(1) {
  transition-delay: 0.1s;
}

.researchers-columns.animate-entry .researcher-column:nth-child(2) {
  transition-delay: 0.2s;
}

.researchers-columns.animate-entry .researcher-column:nth-child(3) {
  transition-delay: 0.3s;
}

/* Add more nth-child rules if you have more columns */





/* Vertical Lines Animation */
#vertical-lines-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10001;
  /* Above intro overlay */
  display: flex;
  justify-content: center;
  transform: translateY(-100px);
  /* üëà ADD THIS */
  align-items: center;
  gap: 200px;
  /* Distance between lines */
  pointer-events: none;
  opacity: 1;
  transition: opacity 1.5s ease;
}

#vertical-lines-container.fade-out-lines {
  opacity: 0.1;
}

.vertical-line {
  width: 15px;
  /* Line thickness */
  height: 0;
  background-color: #00eaff;
  box-shadow: 0 0 10px rgba(0, 234, 255, 0.8),
    0 0 20px rgba(0, 234, 255, 0.5);
  position: relative;
  /* Remove the animation from here */
}

/* New: Separate animation for asymmetric growth */
.vertical-line::before,
.vertical-line::after {
  content: '';
  position: absolute;
  left: 0;
  width: 100%;
  background: inherit;
  box-shadow: inherit;
}

/* Top part - grows slowly */
.vertical-line::before {
  bottom: 50%;
  height: 0;
  /* animation: growTop 10s linear forwards; <--- REMOVE THIS LINE */
}

/* Bottom part - grows fast */
.vertical-line::after {
  top: 50%;
  height: 0;
  /* animation: growBottom 10s linear forwards; <--- REMOVE THIS LINE */
}

/* NEW: Class to trigger the vertical line growth animation on button press */
#vertical-lines-container.start-animation .vertical-line::before {
  /* Shorten duration (e.g., 1.5s) to match the intro fade-out */
  animation: growTop 1.5s linear forwards;
}

#vertical-lines-container.start-animation .vertical-line::after {
  /* Shorten duration (e.g., 1.5s) to match the intro fade-out */
  animation: growBottom 1.5s linear forwards;
}

/* Top growth: 2px/s for 10 seconds = 20px total */
@keyframes growTop {
  0% {
    height: 0;
  }

  100% {
    height: 1470px;
    /* üëà CHANGE THIS: 2px/s √ó 10s = 20px */
  }
}

/* Bottom growth: 10px/s for 10 seconds = 100px total */
@keyframes growBottom {
  0% {
    height: 0;
  }

  100% {
    height: 1500px;
    /* üëà CHANGE THIS: 10px/s √ó 10s = 100px */
  }
}

</style></head><body><div id="vertical-lines-container"><div class="vertical-line" id="line-left"></div><div class="vertical-line" id="line-right"></div></div><canvas id="gridCanvas"></canvas><div id="intro-overlay"><button id="introButton">Enter AESS</button><div id="transition-border"></div></div><div class="section-nav"><div class="section-nav-item" data-section="hero"><span class="section-nav-label">Home</span><div class="section-nav-dot"></div></div><div class="section-nav-item" data-section="about"><span class="section-nav-label">About AESS</span><div class="section-nav-dot"></div></div><div class="section-nav-item" data-section="media"><span class="section-nav-label">Media</span><div class="section-nav-dot"></div></div><div class="section-nav-item" data-section="electronics"><span class="section-nav-label">Electronics</span><div class="section-nav-dot"></div></div></div><header><nav><img src="AESS_IMG/aess.png" alt="" class="logo"><ul><li><a href="#">Scientific</a></li><li><a href="#">Branches</a></li><li><a href="#">Media</a></li><li><a href="#">Research</a></li><li class="small_bar"><a href="#"><div class="bar"></div></a></li></ul></nav></header><section class="hero-section"><a href="#researchers" class="floating-research-btn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg></a><h1 class="hero-title"><span class="aess-text">AESS</span>Jordan<br>University of Science and Technology </h1><a href="#about" class="explore-btn">Explore More</a>< !-- ADD THE EXPLORE BOX HERE --><div class="explore-box"><h3 class="explore-box-title">Explore More</h3><p class="explore-box-details">See more of our activities and events</p><a href="#media" class="explore-box-btn">See</a>< !-- Latest Events Carousel --><div class="latest-events-carousel"><div class="card-stack"><div class="mini-event-card" style="--i: 0"><img src="AESS_IMG/news1.jpg" alt="Event 1" class="mini-event-image"><div class="mini-event-info"><p class="mini-event-title">Robotics Competition Win</p></div></div><div class="mini-event-card" style="--i: 1"><img src="AESS_IMG/news2.jpg" alt="Event 2" class="mini-event-image"><div class="mini-event-info"><p class="mini-event-title">New Research Lab Opens</p></div></div><div class="mini-event-card" style="--i: 2"><img src="AESS_IMG/earth.jpg" alt="Event 3" class="mini-event-image"><div class="mini-event-info"><p class="mini-event-title">Space Conference 2025</p></div></div></div></div></div></section><section id="about" class="about-section"><div class="about-scroll-container"><div class="aess-circle"></div><div class="aess-letters"><div class="aess-letter" data-letter="A">A</div><div class="aess-letter" data-letter="E">E</div><div class="aess-letter" data-letter="S1">S</div><div class="aess-letter" data-letter="S2">S</div></div><div class="about-content-wrapper"><div class="whats-aess-container"><div class="whats-aess-main-card"><h2 class="whats-aess-main-title">WHAT'S AESS?</h2>
 <p class="whats-aess-main-text">The Aerospace & Electronic Systems Society (AESS) is a professional society under IEEE dedicated to advancing the fields of aerospace engineering,
electronic systems,
avionics,
and defense. </p></div><div class="whats-aess-bottom-cards"><div class="whats-aess-card"><h3 class="whats-aess-card-title">AEROSPACE</h3><p class="whats-aess-card-text">The field that designs,
builds,
and studies aircraft and spacecraft. </p></div><div class="whats-aess-card"><h3 class="whats-aess-card-title">ELECTRONIC</h3><p class="whats-aess-card-text">The discipline that builds and manages complex electronic circuits. </p></div><div class="whats-aess-card"><h3 class="whats-aess-card-title">AVIONICS</h3><p class="whats-aess-card-text">The electronic systems inside aircraft and spacecraft. </p></div></div></div><div class="about-stats"><div class="stat-item"><div class="stat-number" data-target="7043">0+</div><div class="stat-label">Active Members</div></div><div class="stat-item"><div class="stat-number" data-target="30">0+</div><div class="stat-label">Conferences</div></div><div class="stat-item"><div class="stat-number" data-target="17">0+</div><div class="stat-label">Awards Won</div></div></div></div></div></section><section id="media" class="media-section"><div class="media-container"><div class="media-header"><h2>Latest News & Updates</h2><p>Stay informed with our latest discoveries and announcements</p></div><div class="curved-carousel-wrapper">< !-- LEFT ARROW --><button class="carousel-nav-btn carousel-nav-left" id="carousel-prev" aria-label="Previous">‚Üê </button><div class="curved-carousel" id="media-carousel">< !-- Existing cards stay here --><div class="media-card carousel-card"><img src="AESS_IMG/news1.jpg" alt="News 1" class="media-card-image"><div class="media-card-content"><div class="media-card-date">November 15,
2025</div><h3 class="media-card-title">AESS Team Wins International Robotics Competition</h3><p class="media-card-excerpt">Our aerospace engineering students secured first place...</p></div></div><div class="media-card carousel-card"><img src="AESS_IMG/news2.jpg" alt="News 2" class="media-card-image"><div class="media-card-content"><div class="media-card-date">November 10,
2025</div><h3 class="media-card-title">New Research Laboratory Inaugurated</h3><p class="media-card-excerpt">State-of-the-art aerospace research facility opens...</p></div></div><div class="media-card carousel-card"><img src="AESS_IMG/earth.jpg" alt="News 3" class="media-card-image"><div class="media-card-content"><div class="media-card-date">November 5,
2025</div><h3 class="media-card-title">Annual Space Conference 2025</h3><p class="media-card-excerpt">Join us for the biggest aerospace event of the year...</p></div></div></div>< !-- RIGHT ARROW --><button class="carousel-nav-btn carousel-nav-right" id="carousel-next" aria-label="Next">‚Üí </button></div></div></section><section id="researchers" class="researchers-section"><div class="researchers-container"><div class="researchers-header"><h2>Our Researchers</h2><p>Meet the brilliant minds behind our innovations</p></div><div class="researchers-columns"><div class="researcher-column" data-researcher="1"><span class="researcher-column-label">Propulsion</span><div class="researcher-card"><span class="researcher-card-close">√ó</span><img src="AESS_IMG/earth.jpg" alt="Researcher 1" class="researcher-card-image"><h3 class="researcher-card-title">Advanced Propulsion Systems</h3><p class="researcher-card-name">Dr. Ahmad Mohammad</p></div></div><div class="researcher-column" data-researcher="2"><span class="researcher-column-label">Aerodynamics</span><div class="researcher-card"><span class="researcher-card-close">√ó</span><img src="AESS_IMG/researcher2.jpg" alt="Researcher 2" class="researcher-card-image"><h3 class="researcher-card-title">Aerodynamics Research</h3><p class="researcher-card-name">Dr. Sarah Ali</p></div></div><div class="researcher-column" data-researcher="3"><span class="researcher-column-label">Satellites</span><div class="researcher-card"><span class="researcher-card-close">√ó</span><img src="AESS_IMG/researcher3.jpg" alt="Researcher 3" class="researcher-card-image"><h3 class="researcher-card-title">Satellite Technology</h3><p class="researcher-card-name">Dr. Omar Hassan</p></div></div></div></div></section><section id="electronics" class="electronics-section">< !-- FIXED BACKGROUND VIDEO --><video class="electronics-video" autoplay muted loop playsinline><source src="Videos/Elec.mp4" type="video/mp4"></video>< !-- CONTENT GRID --><div class="electronics-content">< !-- LEFT TITLE --><div class="electronics-title glass-box" id="elecTitle">Electronics </div>< !-- RIGHT TEXT --><div class="electronics-join glass-box" id="elecJoin">Join us in Electronics Branch </div></div></section><section id="aviation" class="aviation-section">< !-- FIXED BACKGROUND VIDEO --><video class="aviation-video" autoplay muted loop playsinline><source src="Videos/plane.mp4" type="video/mp4"></video>< !-- CONTENT GRID --><div class="aviation-content">< !-- LEFT TITLE --><div class="aviation-title glass-box" id="aviationTitle">Aviation </div>< !-- RIGHT TEXT --><div class="aviation-join glass-box" id="aviationJoin">Join us in Aviation Branch </div></div></section><section id="aerospace" class="aerospace-section">< !-- FIXED BACKGROUND VIDEO --><video class="aerospace-video" autoplay muted loop playsinline><source src="Videos/space.mp4" type="video/mp4"></video>< !-- CONTENT GRID --><div class="aerospace-content">< !-- LEFT TITLE --><div class="aerospace-title glass-box" id="aerospaceTitle">Aerospace </div>< !-- RIGHT TEXT --><div class="aerospace-join glass-box" id="aerospaceJoin">Join us in Aerospace Branch </div></div></section><script>const canvas=document.getElementById('gridCanvas');
const ctx=canvas.getContext('2d');
let width,
height;
const gridSize=50; // Size of each grid square
const gridColor='rgba(0, 0, 97, 0.4)'; // Dark blue/indigo grid lines
const flashColor='rgba(0, 234, 255, 1)'; // Bright cyan/flash blue
const maxParticles=30;

// Particle Class
class Particle {
  constructor(x, y, isVertical) {
    this.x=x;
    this.y=y;
    this.isVertical=isVertical; // True for vertical line, false for horizontal
    this.speed=Math.random() * 0.8+0.4;
    this.size=Math.random() * 3+1;
    this.direction=Math.random()>0.5 ? 1: -1; // -1 for reverse, 1 for forward
  }

  update() {
    if (this.isVertical) {
      this.y+=this.speed * this.direction;
    }

    else {
      this.x+=this.speed * this.direction;
    }

    // Wrap-around logic for movement within the grid structure
    if (this.isVertical) {
      if (this.direction > 0 && this.y > height) {
        this.y=0;
      }

      else if (this.direction < 0 && this.y < 0) {
        this.y=height;
      }
    }

    else {
      if (this.direction > 0 && this.x > width) {
        this.x=0;
      }

      else if (this.direction < 0 && this.x < 0) {
        this.x=width;
      }
    }
  }

  draw() {
    // Create a glowing effect
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fillStyle=flashColor;
    ctx.shadowColor=flashColor;
    ctx.shadowBlur=10;
    ctx.fill();
    ctx.shadowBlur=0; // Reset shadow after drawing particle
  }
}

let particles=[];

// Initialize Particles
function initParticles() {
  particles=[];
  // Calculate how many vertical and horizontal lines there are
  const numVertLines=Math.floor(width / gridSize)+1;
  const numHorizLines=Math.floor(height / gridSize)+1;

  for (let i=0; i < maxParticles; i++) {
    if (i % 2===0) {
      // Place particle on a Vertical line
      const lineIndex=Math.floor(Math.random() * numVertLines);
      const xPos=lineIndex * gridSize;
      const yPos=Math.random() * height;
      particles.push(new Particle(xPos, yPos, true));
    }

    else {
      // Place particle on a Horizontal line
      const lineIndex=Math.floor(Math.random() * numHorizLines);
      const yPos=lineIndex * gridSize;
      const xPos=Math.random() * width;
      particles.push(new Particle(xPos, yPos, false));
    }
  }
}


// Draw the main grid lines
function drawGrid() {
  ctx.strokeStyle=gridColor;
  ctx.lineWidth=1;

  // Vertical lines
  for (let x=0; x <=width; x +=gridSize) {
    ctx.beginPath();
    ctx.moveTo(x, 0);
    ctx.lineTo(x, height);
    ctx.stroke();
  }

  // Horizontal lines
  for (let y=0; y <=height; y +=gridSize) {
    ctx.beginPath();
    ctx.moveTo(0, y);
    ctx.lineTo(width, y);
    ctx.stroke();
  }
}

// Animation Loop
function animateGrid() {
  // Clear canvas, maintaining transparency for content underneath
  ctx.clearRect(0, 0, width, height);

  // Draw the static grid
  drawGrid();

  // Update and draw particles
  particles.forEach(p=> {
      p.update();
      p.draw();
    });

  requestAnimationFrame(animateGrid);
}

// Handle Resize and Initialization
function resizeCanvas() {
  width=window.innerWidth;
  height=window.innerHeight;
  canvas.width=width;
  canvas.height=height;
  initParticles();
}

window.addEventListener('resize', resizeCanvas);
resizeCanvas(); // Initial call to set size and initialize
animateGrid();
</script><script type="module">import * as THREE from 'three';

import {
  GLTFLoader
}

from 'three/addons/loaders/GLTFLoader.js';

// DOM Elements
// DOM Elements
const introOverlay=document.getElementById('intro-overlay');
const introButton=document.getElementById('introButton');
const borderEffect=document.getElementById('transition-border'); // Select border div
const verticalLinesContainer=document.getElementById('vertical-lines-container'); // üëà ADD THIS LINE

// Scene Setup
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.set(0, 180, 0);
camera.lookAt(0, 0, 0);

const renderer=new THREE.WebGLRenderer({
  antialias: true, alpha: true
});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setClearColor(0x000000, 1);
introOverlay.appendChild(renderer.domElement);

// Lights
scene.add(new THREE.AmbientLight(0xffffff, 1));
const dir=new THREE.DirectionalLight(0xffffff, 1.5);
dir.position.set(5, 5, 5);
scene.add(dir);

// Animation Variables
let rocket=null;
let animationProgress=0;
const animationDuration=2;
const startZ=100;
const midZ=-40;
const endZ=-250; // Fly far away
let animationPhase=0; // 0=Intro, 1=Wait, 2=Exit, 4=Done


// Add after line: let animationPhase = 0;
let linesAnimationComplete=false;
const linesContainer=document.getElementById('vertical-lines-container');
const lineLeft=document.getElementById('line-left');
const lineRight=document.getElementById('line-right');

// Start lines animation timer
// setTimeout(() => {
//   linesAnimationComplete = true;
//   if (linesContainer) {
//     linesContainer.classList.add('fade-out-lines');
//     setTimeout(() => {
//       if (linesContainer) linesContainer.style.display = 'none';
//     }, 500);
//   }
//   // Show button after lines disappear
//   if (animationPhase === 1) {
//     introButton.classList.add('show-btn');
//   }
// }, 10000); // 10 seconds

// Update the button show logic in animate function
// Find this section and replace it:
if (animationProgress >=1) {
  animationPhase=1;

  // Only show button after lines animation completes
  if (linesAnimationComplete) {
    introButton.classList.add('show-btn');
  }
}

function easeOutCubic(t) {
  return 1 - Math.pow(1 - t, 3);
}

// Create Stars
let spheres=new THREE.Group();
scene.add(spheres);

function createSphere(radius) {
  const geometry=new THREE.SphereGeometry(radius, 8, 8);

  const material=new THREE.MeshBasicMaterial({
    color: 0xffffff
  });
return new THREE.Mesh(geometry, material);
}

function addSpheres(count, minX, maxX, minZ, maxZ) {
  for (let i=0; i < count; i++) {
    const radius=Math.random() * 0.5;
    const sphere=createSphere(radius);
    sphere.position.x=Math.random() * (maxX - minX)+minX;
    sphere.position.y=Math.random() * 20 - 10;
    sphere.position.z=Math.random() * (maxZ - minZ)+minZ;
    spheres.add(sphere);
  }
}

addSpheres(200, -200, 200, -200, 200);

// Load 3D Model
const loader=new GLTFLoader();

loader.load("aess_3d/scene.gltf",
  (gltf)=> {
    rocket=gltf.scene;
    rocket.scale.set(0.05, 0.05, 0.05);
    rocket.position.set(0, 0, startZ);
    rocket.rotation.y=Math.PI / 2;
    scene.add(rocket);
  }

  ,
  undefined,
  (err)=> console.error("Error loading rocket:", err));

let lastTime=Date.now();

// Button Click to Exit Intro
introButton.addEventListener('click', ()=> {
    if (animationPhase===1) {
      // 1. Resume animation (Rocket Flies)
      animationPhase=2;
      animationProgress=0;
      // 2. Hide Button
      introButton.classList.add('hide-btn');
      introButton.classList.remove('show-btn');
      // 3. TRIGGER THE BORDER EFFECT
      if (borderEffect) borderEffect.classList.add('activate-border');

      // Trigger the vertical lines growth animation
      if (verticalLinesContainer) {
        verticalLinesContainer.classList.add('start-animation');

        // Fade vertical lines to 0.5 opacity after animation completes
        setTimeout(()=> {
            verticalLinesContainer.classList.add('fade-out-lines');
          }

          , 1500); // Match the animation duration
      }
    }
  });

function animate() {
  if (animationPhase===4) return; // Stop loop when done

  requestAnimationFrame(animate);
  const currentTime=Date.now();
  const deltaTime=(currentTime - lastTime) / 1000;
  lastTime=currentTime;

  if (rocket) {
    // ===== CONFIGURABLE FLUCTUATION PARAMETERS =====
    const fluctuationSpeed=1; // Speed multiplier (1-5)
    const fluctuationAngleX=0.1; // X-axis tilt (0.05-0.3 radians)
    const fluctuationAngleY=0; // Y-axis tilt (0.05-0.3 radians)
    const fluctuationAngleZ=0; // Z-axis tilt (0.05-0.3 radians)
    // ===============================================

    if (animationPhase===0) {
      // Fly In
      animationProgress+=deltaTime / animationDuration;
      animationProgress=Math.min(animationProgress, 1);
      const val=easeOutCubic(animationProgress);
      rocket.position.z=startZ+(midZ - startZ) * val;

      if (animationProgress >=1) {
        animationPhase=1;
        introButton.classList.add('show-btn'); // Show button
      }
    }

    else if (animationPhase===2) {
      // Fly Out
      animationProgress+=deltaTime / animationDuration;
      animationProgress=Math.min(animationProgress, 1);
      const val=easeOutCubic(animationProgress);
      rocket.position.z=midZ+(endZ - midZ) * val;

      if (animationProgress >=1) {
        animationPhase=4;
        // Hide Overlay
        introOverlay.classList.add('fade-out');
        // Unlock Scrolling
        document.body.classList.add('scroll-active');
        document.body.classList.add('intro-complete');
      }
    }

    // ===== FLUCTUATION (RUNS IN ALL PHASES) =====
    rocket.rotation.x=Math.sin(currentTime * 0.001 * fluctuationSpeed) * fluctuationAngleX;
    rocket.rotation.z=Math.cos(currentTime * 0.001 * fluctuationSpeed * 0.7) * fluctuationAngleZ;
    rocket.rotation.y=Math.PI / 2+Math.sin(currentTime * 0.001 * fluctuationSpeed * 0.5) * fluctuationAngleY;
    // ==============================================
  }

  renderer.render(scene, camera);
}

animate();

window.addEventListener("resize", ()=> {
    camera.aspect=window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });



// Animated Counter
function animateCounter(element, target, duration=2000) {
  const start=0;
  const increment=target / (duration / 16);
  let current=start;

  const timer=setInterval(()=> {
      current +=increment;

      if (current >=target) {
        element.textContent=target + '+';
        clearInterval(timer);
      }

      else {
        element.textContent=Math.floor(current) + '+';
      }
    }

    , 16);
}

// Observer
const observer=new IntersectionObserver((entries)=> {
    entries.forEach(entry=> {
        if (entry.isIntersecting) {
          const statNumbers=entry.target.querySelectorAll('.stat-number');

          statNumbers.forEach(stat=> {
              const targetValue=parseInt(stat.getAttribute('data-target'));
              animateCounter(stat, targetValue);
            });
          observer.unobserve(entry.target);
        }
      });
  }

  , {
  threshold: 0.5
});

document.addEventListener('DOMContentLoaded', ()=> {
    const aboutSection=document.querySelector('.about-section');
    if (aboutSection) observer.observe(aboutSection);
  });

// Nav Logic
const sections=document.querySelectorAll('section');
const navItems=document.querySelectorAll('.section-nav-item');

function updateActiveNavItem() {
  let currentSection=0;

  sections.forEach((section, index)=> {
      const rect=section.getBoundingClientRect();

      if (rect.top <=window.innerHeight / 2 && rect.bottom >=window.innerHeight / 2) {
        currentSection=index;
      }
    });

  navItems.forEach((item, index)=> {
      if (index < sections.length) {
        item.classList.toggle('active', index===currentSection);
      }
    });
}

window.addEventListener('scroll', updateActiveNavItem);

navItems.forEach((item, index)=> {
    item.addEventListener('click', ()=> {
        if (sections[index]) sections[index].scrollIntoView({
          behavior: 'smooth'
        });
    });
});

// Researcher Cards
const researcherColumns=document.querySelectorAll('.researcher-column');

researcherColumns.forEach(column=> {
    column.addEventListener('click', function (e) {
        if (e.target.classList.contains('researcher-card-close')) return;

        researcherColumns.forEach(col=> {
            if (col !==column) col.classList.remove('active');
          });
        this.classList.toggle('active');
      });
    const closeBtn=column.querySelector('.researcher-card-close');

    if (closeBtn) {
      closeBtn.addEventListener('click', (e)=> {
          e.stopPropagation();
          column.classList.remove('active');
        });
    }
  });

// About Scroll Animation
const aboutSectionElement=document.querySelector('#about');
const aessLetters=document.querySelectorAll('.aess-letter');
const aessLettersContainer=document.querySelector('.aess-letters');
const aessCircle=document.querySelector('.aess-circle');
const aboutContentWrapper=document.querySelector('.about-content-wrapper');

function updateLetterAnimation() {
  if ( !aboutSectionElement) return;
  const rect=aboutSectionElement.getBoundingClientRect();
  const sectionHeight=aboutSectionElement.offsetHeight;
  const viewportHeight=window.innerHeight;
  const scrollProgress=Math.max(0, Math.min(1, (viewportHeight - rect.top) / (sectionHeight - viewportHeight)));

  if (scrollProgress < 0.65) {
    aessLettersContainer.classList.remove('move-right');
    aessCircle.classList.remove('visible');

    aessLetters.forEach((letter, index)=> {
        const startProgress=(index + 1) * 0.15;

        if (scrollProgress >=startProgress) {
          letter.classList.add('visible');
          const letterProgress=Math.min(1, (scrollProgress - startProgress) / 0.1);

          letter.style.transform=`translateX($ {
              -100 + (100 * letterProgress)
            }

            vw)`;
          letter.style.opacity=letterProgress;
        }

        else {
          letter.classList.remove('visible');
          letter.style.transform='translateX(-100vw)';
        }
      });
    aboutContentWrapper.classList.remove('visible');
  }

  else if (scrollProgress >=0.65) {
    aessLetters.forEach((letter)=> {
        letter.classList.add('visible');
        letter.style.transform='translateX(0)';
        letter.style.opacity=1;
      });

    if ((scrollProgress - 0.65) / 0.2 > 0.1) {
      aessLettersContainer.classList.add('move-right');
      aessCircle.classList.add('visible');
    }

    if (scrollProgress >=0.85) {
      aboutContentWrapper.classList.add('visible');
    }
  }
}

window.addEventListener('scroll', ()=> window.requestAnimationFrame(updateLetterAnimation));








// --- NEW: Curved Media Carousel Logic ---
const carousel=document.getElementById('media-carousel');
const cards=carousel ? carousel.querySelectorAll('.carousel-card') : [];
const numCards=cards.length;
const prevBtn=document.getElementById('carousel-prev');
const nextBtn=document.getElementById('carousel-next');
let rotationAngle=0;
const radius=600;
const cardArc=40;

if (carousel) {

  // 1. Position Cards on the Curve
  cards.forEach((card, index)=> {
      const angle=index * cardArc;

      card.style.transform=` translateY(100px) rotateY($ {
          angle
        }

        deg) translateZ($ {
          radius
        }

        px) `;
      card.style.opacity=0.5;
      card.style.transform +=` scale(0.9)`;
    });

  let currentIndex=0;
  const rotationStep=cardArc; // Rotate by one card's arc angle
  let autoRotateInterval;

  function rotateCarousel() {
    const targetRotation=-currentIndex * rotationStep; // Negative for proper direction

    carousel.style.transform=`rotateY($ {
        targetRotation
      }

      deg)`;

    cards.forEach((card, index)=> {
        const distance=Math.abs(index - currentIndex);
        let scaleFactor=1;
        let opacityFactor=1;

        if (distance===0) {
          scaleFactor=1.1;
          opacityFactor=1;
        }

        else if (distance===1) {
          scaleFactor=1;
          opacityFactor=0.8;
        }

        else {
          scaleFactor=0.8;
          opacityFactor=0.4;
        }

        const baseTransform=`translateY(100px) rotateY($ {
            index * cardArc
          }

          deg) translateZ($ {
            radius
          }

          px)`;

        card.style.transform=`$ {
          baseTransform
        }

        scale($ {
            scaleFactor
          })`;
        card.style.opacity=opacityFactor;
      });
  }

  // Navigation Functions
  function goToNext() {
    currentIndex=(currentIndex + 1) % numCards;
    rotateCarousel();
  }

  function goToPrev() {
    currentIndex=(currentIndex - 1 + numCards) % numCards;
    rotateCarousel();
  }

  // Button Event Listeners
  if (nextBtn) {
    nextBtn.addEventListener('click', ()=> {
        goToNext();
        resetAutoRotate();
      });
  }

  if (prevBtn) {
    prevBtn.addEventListener('click', ()=> {
        goToPrev();
        resetAutoRotate();
      });
  }

  // Auto-Play Rotation
  function startAutoRotate() {
    autoRotateInterval=setInterval(goToNext, 4000);
  }

  function stopAutoRotate() {
    clearInterval(autoRotateInterval);
  }

  function resetAutoRotate() {
    stopAutoRotate();
    startAutoRotate();
  }

  // Pause on hover
  carousel.addEventListener('mouseenter', stopAutoRotate);
  carousel.addEventListener('mouseleave', startAutoRotate);

  // Initialize
  rotateCarousel();
  startAutoRotate();
}

// --- END: Curved Media Carousel Logic ---




// --- Researchers Section Entry Animation (with reverse) ---
const researchersSection=document.querySelector('#researchers');
const researchersColumns=document.querySelector('.researchers-columns');

if (researchersSection && researchersColumns) {
  // Set random initial positions for each card
  const columns=researchersColumns.querySelectorAll('.researcher-column');

  columns.forEach((column)=> {
      // Generate random values for scattered initial positions
      const randomX=(Math.random() - 0.5) * 800; // -400 to 400
      const randomY=(Math.random() - 0.5) * 600; // -300 to 300
      const randomRotate=(Math.random() - 0.5) * 180; // -90 to 90 degrees

      // Set CSS custom properties for each card
      column.style.setProperty('--random-x', randomX);
      column.style.setProperty('--random-y', randomY);
      column.style.setProperty('--random-rotate', randomRotate);
    });

  // Create observer for the researchers section (NO unobserve, keeps watching)
  const researchersObserver=new IntersectionObserver((entries)=> {
      entries.forEach(entry=> {
          if (entry.isIntersecting) {
            // Scrolling down / entering - trigger collect animation
            researchersColumns.classList.add('animate-entry');
            researchersColumns.classList.remove('animate-exit');
          }

          else {
            // Scrolling up / leaving - trigger scatter animation
            researchersColumns.classList.remove('animate-entry');
            researchersColumns.classList.add('animate-exit');
          }
        });
    }

    , {
    threshold: 0.3 // Trigger when 30% of section is visible
  });

researchersObserver.observe(researchersSection);
}

// ELECTRONICS SCROLL ANIMATION + VIDEO VISIBILITY CONTROL
const elecSection=document.getElementById("electronics");
const elecTitle=document.getElementById("elecTitle");
const elecJoin=document.getElementById("elecJoin");
const elecVideo=document.querySelector(".electronics-video");

window.addEventListener("scroll", ()=> {
    const rect=elecSection.getBoundingClientRect();
    const vh=window.innerHeight;

    const isVisible=rect.top < vh && rect.bottom > 0;

    if (isVisible) {
      elecVideo.style.opacity="0.7";
      elecVideo.style.pointerEvents="auto";
    }

    else {
      elecVideo.style.opacity="0";
      elecVideo.style.pointerEvents="none";
    }

    const progress=Math.min(1, Math.max(0, (vh - rect.top) / vh));

    // Hide when leaving section (earlier - at 90% scroll)
    if (rect.bottom < vh || rect.top > vh) {
      elecTitle.classList.add("hidden");
      elecJoin.classList.add("hidden");
    }

    else {
      elecTitle.classList.remove("hidden");
      elecJoin.classList.remove("hidden");

      if (progress > 0.1) elecTitle.classList.add("fixed");
      else elecTitle.classList.remove("fixed");

      if (progress > 0.8) elecJoin.classList.add("fixed");
      else elecJoin.classList.remove("fixed");
    }
  });


// AVIATION SCROLL ANIMATION + VIDEO VISIBILITY CONTROL
// AVIATION SCROLL ANIMATION + VIDEO VISIBILITY CONTROL
const aviationSection=document.getElementById("aviation");
const aviationTitle=document.getElementById("aviationTitle");
const aviationJoin=document.getElementById("aviationJoin");
const aviationVideo=document.querySelector(".aviation-video");

window.addEventListener("scroll", ()=> {
    const rect=aviationSection.getBoundingClientRect();
    const vh=window.innerHeight;

    const isVisible=rect.top < vh && rect.bottom > 0;

    if (isVisible) {
      aviationVideo.style.opacity="0.7";
      aviationVideo.style.pointerEvents="auto";
    }

    else {
      aviationVideo.style.opacity="0";
      aviationVideo.style.pointerEvents="none";
    }

    const progress=Math.min(1, Math.max(0, (vh - rect.top) / vh));

    // Hide when leaving section (earlier - at 90% scroll)
    if (rect.bottom < vh || rect.top > vh) {
      aviationTitle.classList.add("hidden");
      aviationJoin.classList.add("hidden");
    }

    else {
      aviationTitle.classList.remove("hidden");
      aviationJoin.classList.remove("hidden");

      if (progress > 0.1) aviationTitle.classList.add("fixed");
      else aviationTitle.classList.remove("fixed");

      if (progress > 0.8) aviationJoin.classList.add("fixed");
      else aviationJoin.classList.remove("fixed");
    }
  });




// AEROSPACE SCROLL ANIMATION + VIDEO VISIBILITY CONTROL
const aerospaceSection=document.getElementById("aerospace");
const aerospaceTitle=document.getElementById("aerospaceTitle");
const aerospaceJoin=document.getElementById("aerospaceJoin");
const aerospaceVideo=document.querySelector(".aerospace-video");

window.addEventListener("scroll", ()=> {
    const rect=aerospaceSection.getBoundingClientRect();
    const vh=window.innerHeight;

    const isVisible=rect.top < vh && rect.bottom > 0;

    if (isVisible) {
      aerospaceVideo.style.opacity="0.7";
      aerospaceVideo.style.pointerEvents="auto";
    }

    else {
      aerospaceVideo.style.opacity="0";
      aerospaceVideo.style.pointerEvents="none";
    }

    const progress=Math.min(1, Math.max(0, (vh - rect.top) / vh));

    // Hide when leaving section (earlier - at 90% scroll)
    if (rect.bottom < vh || rect.top > vh) {
      aerospaceTitle.classList.add("hidden");
      aerospaceJoin.classList.add("hidden");
    }

    else {
      aerospaceTitle.classList.remove("hidden");
      aerospaceJoin.classList.remove("hidden");

      if (progress > 0.1) aerospaceTitle.classList.add("fixed");
      else aerospaceTitle.classList.remove("fixed");

      if (progress > 0.8) aerospaceJoin.classList.add("fixed");
      else aerospaceJoin.classList.remove("fixed");
    }
  });
</script></body></html>